---
title: 'Fashionably Late for Pi Day'
date: 2025-03-22
permalink: /posts/2025/03/pi_day/
tags:
  - random
  - latex
  - python
---
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Add Noto Sans fonts for Indian scripts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&family=Noto+Sans+Arabic&family=Noto+Sans+Bengali&family=Noto+Sans+Devanagari&family=Noto+Sans+Gujarati&family=Noto+Sans+Gurmukhi&family=Noto+Sans+Kannada&family=Noto+Sans+Malayalam&family=Noto+Sans+Meetei+Mayek&family=Noto+Sans+Oriya&family=Noto+Sans+Tamil&family=Noto+Sans+Telugu&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2980b9;
            --accent-color: #e74c3c;
            --text-color: #333;
            --light-gray: #f5f5f5;
            --border-color: #ddd;
        }
        
        {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Roboto', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: #fff;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: var(--primary-color);
        }
        
        h2 {
            font-size: 1.8rem;
            margin: 20px 0;
            color: var(--secondary-color);
        }
        
        p {
            margin-bottom: 15px;
        }
        
        .container {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            justify-content: flex-start; /* ensures left alignment */
        }        
        .controls {
            flex: 1;
            min-width: 300px;
            background-color: var(--light-gray);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .preview {
            flex: 2;
            min-width: 500px;
            padding: 20px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            overflow: auto;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        input, select {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 16px;
        }
        
        .slider-container {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .slider-value {
            text-align: center;
            font-weight: bold;
            color: var(--accent-color);
        }
        
        .pi-controls button {
        background-color: var(--primary-color);
        color: white;
        border: none;
        padding: 12px 20px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
        font-weight: 500;
        transition: background-color 0.3s;
        width: 100%;
        margin-bottom: 10px;
        }

        .pi-controls button:hover {
            background-color: var(--secondary-color);
        }

        .pi-controls button.secondary {
            background-color: var(--accent-color);
        }

        .pi-controls button.secondary:hover {
            background-color: #c0392b;
        }

        .pi-grid {
            display: grid;
            grid-template-columns: repeat(20, 1fr);
            gap: 0;  
            background-color: transparent; 
            border: none; 
        }

        
        .pi-cell {
            background-color: white;
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            position: relative;
        }
        
        .pi-cell.highlight {
            color: var(--accent-color);
            font-weight: bold;
        }
        
        .pi-cell:hover::after {
            content: attr(data-script);
            position: absolute;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0,0,0,0.8);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 12px;
            white-space: nowrap;
            z-index: 10;
        }
        
        .stats {
            margin-top: 30px;
            padding: 20px;
            background-color: var(--light-gray);
            border-radius: 8px;
        }

        .script-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }
        
        .script-tag {
            background-color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 14px;
            border: 1px solid var(--border-color);
        }
        
        .loading {
            text-align: center;
            padding: 50px;
            font-size: 1.5rem;
            color: var(--secondary-color);
        }
        
        /* Font classes for different Indian scripts */
        .script-Latin { font-family: 'Noto Sans', sans-serif; }
        .script-Devanagari { font-family: 'Noto Sans Devanagari', sans-serif; }
        .script-Bengali, .script-Assamese { font-family: 'Noto Sans Bengali', sans-serif; }
        .script-Gujarati { font-family: 'Noto Sans Gujarati', sans-serif; }
        .script-Gurmukhi { font-family: 'Noto Sans Gurmukhi', sans-serif; }
        .script-Kannada { font-family: 'Noto Sans Kannada', sans-serif; }
        .script-Malayalam { font-family: 'Noto Sans Malayalam', sans-serif; }
        .script-Tamil { font-family: 'Noto Sans Tamil', sans-serif; }
        .script-Telugu { font-family: 'Noto Sans Telugu', sans-serif; }
        .script-Odia { font-family: 'Noto Sans Oriya', sans-serif; }
        .script-Urdu, .script-Kashmiri, .script-Sindhi { font-family: 'Noto Sans Arabic', sans-serif; }
        .script-Manipuri { font-family: 'Noto Sans Meetei Mayek', sans-serif; }
        .script-Ol-Chiki { font-family: 'Noto Sans', sans-serif; } /* Fallback as Noto Sans Ol Chiki might not be available via Google Fonts */
        
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            
            .preview, .controls {
                min-width: 100%;
            }
            
            .pi-cell {
                font-size: 1rem;
            }
        }
        
        /* Dynamic font sizes based on digit count */
        .small-grid .pi-cell { font-size: 1.5rem; }
        .medium-grid .pi-cell { font-size: 1.2rem; }
        .large-grid .pi-cell { font-size: 0.9rem; }
        .extra-large-grid .pi-cell { font-size: 0.7rem; }
    </style>
</head>
<body>
     <section>
  <p>Yeah, I know, Pi Day already passed. I am fashionably late to the partyâ€”by a mere few daysâ€”but hey, the circumference of my enthusiasm is irrational, right?</p>

  <p>A couple of weeks back, while spiraling down another rabbit hole (read: procrastinating) for a completely unrelated blog post, I stumbled upon the absolutely brilliant work of Martin Krzywinski whose <a href="https://mk.bcgsc.ca/pi/piday2019/" target="_blank">website</a> I have cited before. For Pi Day 2019, he created an incredible poster featuring Pi represented through characters from scripts across the globe. Mind-blowing conceptâ€”I instantly wanted my own.</p>

  <p>Of course, instead of doing the sensible thing (using his ready-made masterpiece), I decided to create my own spin on it: What if everyone could have their own unique Pi poster? Uniqueness powered byâ€”what elseâ€”large language models (LLMs).</p>

  <p>Enter Sonnet 3.7, Cursor AIâ€™s shiny new agent mode that my friend couldnâ€™t stop raving about. Perfect timing! With one ambitious prompt (and probably too much optimism), I asked Agent-S to craft Pi posters using all official Indian scripts (scheduled languages with their scripts) listed neatly on <a href="https://en.wikipedia.org/wiki/Languages_with_legal_status_in_India" target="_blank">Wikipedia</a>, in addition to Latin script to accommodate english. Amazingly, Sonnet 3.7 churned out a working Python version in about ten minutes flatâ€”talk about instant gratification!</p>

  <p>But then came the twist: converting everything from Python to JavaScript to embed it neatly into my Jekyll-based website. Let's just say things quickly turned as chaotic as the decimals of Pi itself. My pristine code became an LLM playground. Sonnet randomly rewrote entire sections, turned Jinja templates into spaghetti, and generally made me regret not committing changes frequently enough to GitHub. Lesson learned: commit early, commit often, and never fully trust an overly enthusiastic LLM.</p>

  <p>After several frustrating rounds of 'fix-it-myself' debugging, I waved the white flag and went old-school: copy-pasting code snippets between ChatGPT and my editor, circa 2022. Vintage, but effective. Finally, a functional version emergedâ€”after some JavaScript-induced headaches and website quirks.</p>

  <p>So here is what you can do now:</p>

  <p>Below this ramble, you will find my shiny creation: input your own random seed number, choose your grid size, and voilÃ ! A unique Pi, beautifully represented using the rich tapestry of Indian scripts. Hit "Generate," and you can even download your very own LaTeX file, ready to compile into an A4 poster to adorn your walls. A quick heads-up: you will first need to download and install the NotoSans fonts for the scripts you selectâ€”tedious, I know, but think of it as character-building (pun absolutely intended).</p>

  <p>Expanding this to include scripts worldwide is definitely doable (I just did not find an easy way to find the entire database from Noto Sans and also I could not find a way to identify all the various scripts available there!). For anyone brave enough, I have linked my <a href="https://github.com/armandyam/pi_day_indian_scripts" target="_blank">GitHub repository</a>â€”take it, remix it, and let me know how it goes!</p>

  <p>Happy belated Pi Day! Better late (and nerdy) than never, right?</p>

  <p>
P.S.: I don't personally know the exact digits of Pi (beyond the obvious 3.14...), nor can I verify the accuracy of numbers represented in various scripts. If you spot any mistakesâ€”especially speakers of these languagesâ€”please let me know so I can correct them!</p>
</section>


    <div class="container">
        <div class="controls">
            <h2>Settings</h2>
            <div class="form-group">
                <label for="num-digits">Number of Digits:</label>
                <div class="slider-container">
                    <input type="range" id="num-digits" min="10" max="430" value="200" step="10">
                    <div class="slider-value" id="digits-value">200 digits</div>
                    <div class="dimensions-info" id="dimensions-info">(Optimal grid: calculating...)</div>
                </div>
            </div>
            
            <div class="form-group">
                <label for="seed">Random Seed (leave empty for random):</label>
                <input type="number" id="seed" placeholder="e.g. 42">
            </div>
            
            <div class="pi-controls">
                <button id="generate-btn">Generate New Visualization</button>
                <button id="download-latex-btn">Download LaTeX</button>
            </div>
            
        </div>
        
        <div class="preview">
            <h2>Preview</h2>
            <div id="pi-grid-container">
                <div id="pi-grid" class="pi-grid"></div>
            </div>
            
            <div class="stats">
                <h3>Statistics</h3>
                <p id="stats-text">Loading...</p>
                
                <h3>Scripts Used</h3>
                <div id="script-list" class="script-list">
                    <div class="loading">Loading scripts...</div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.5/seedrandom.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/decimal.js/10.4.3/decimal.min.js"></script>
    <script src="/assets/pi_functions.js"></script>
    <script>

        let piData = null;
        
        const numDigitsInput = document.getElementById('num-digits');
        const digitsValueDisplay = document.getElementById('digits-value');
        const dimensionsInfo = document.getElementById('dimensions-info');
        const seedInput = document.getElementById('seed');
        const generateBtn = document.getElementById('generate-btn');
        const downloadLatexBtn = document.getElementById('download-latex-btn');
        const piGridContainer = document.getElementById('pi-grid-container');
        const piGrid = document.getElementById('pi-grid');
        const statsText = document.getElementById('stats-text');
        const scriptList = document.getElementById('script-list');
        
        numDigitsInput.addEventListener('input', updateDigitsDisplay);
        generateBtn.addEventListener('click', generateVisualization);
        downloadLatexBtn.addEventListener('click', downloadLatex);
        
        updateDigitsDisplay();
        generateVisualization();

        function updateDigitsDisplay() {
            const numDigits = parseInt(numDigitsInput.value);
            digitsValueDisplay.textContent = `${numDigits} digits`;
            
            const ratio = 1.414; 
            const { rows, cols } = calculateGridDimensions(numDigits);
            
            dimensionsInfo.textContent = `(Optimal grid: ${rows} Ã— ${cols})`;
        }
        
        async function generateVisualization() {
            console.log("ðŸš€ generateVisualization started");

            showLoading();
            
            const numDigits = parseInt(numDigitsInput.value);
            let seed = seedInput.value.trim();
            seed = seed ? parseInt(seed) : null;

            if (seed !== null) {
                seedInput.value = seed;
            }
            if (!seed) {
                seed = Math.floor(Math.random() * 1000000);
                seedInput.value = seed;
            }

            
            try {
                piData = JSON.parse(generateJsonData(numDigits, seed));

                
                renderGrid(piData);
                updateStats(piData);
                
                if (piData.seed && !seedInput.value) {
                    seedInput.value = piData.seed;
                }
                
            } catch (error) {
                console.error('Error generating visualization:', error);
                
            }
        }
        
        function renderGrid(data) {
            piGrid.innerHTML = '';
            piGrid.style.gridTemplateColumns = `repeat(${data.cols}, 1fr)`;
            
            piGridContainer.className = '';
            if (data.rows * data.cols <= 50) {
                piGridContainer.classList.add('small-grid');
            } else if (data.rows * data.cols <= 200) {
                piGridContainer.classList.add('medium-grid');
            } else if (data.rows * data.cols <= 500) {
                piGridContainer.classList.add('large-grid');
            } else {
                piGridContainer.classList.add('extra-large-grid');
            }
            
            for (let row = 0; row < data.rows; row++) {
                for (let col = 0; col < data.cols; col++) {
                    const cell = data.grid[row][col];
                    const cellElement = document.createElement('div');
                    
                    let scriptClass = `script-${cell.script}`;
                    if (cell.script === "Ol Chiki") {
                        scriptClass = "script-Ol-Chiki";
                    }
                    
                    cellElement.className = `pi-cell ${scriptClass}`;
                    
                    if (cell.highlight) {
                        cellElement.classList.add('highlight');
                    }
                    
                    cellElement.textContent = cell.digit;
                    cellElement.dataset.script = `${cell.digit} ${cell.script} (${convertToLatin(cell.digit, cell.script)})`;
                    
                    piGrid.appendChild(cellElement);
                }
            }
        }
        
        function updateStats(data) {
            statsText.textContent = `Using ${data.total_scripts_used} different Indian scripts to display ${data.rows * data.cols} digits of Ï€ in a ${data.rows}Ã—${data.cols} grid. Seed: ${data.seed}`;
            
            scriptList.innerHTML = '';
            
            const sortedScripts = Object.entries(data.script_usage)
                .sort((a, b) => b[1] - a[1])
                .map(([script, count]) => ({ script, count }));
            
            sortedScripts.forEach(item => {
                const scriptTag = document.createElement('div');
                
                let scriptClass = `script-${item.script}`;
                if (item.script === "Ol Chiki") {
                    scriptClass = "script-Ol-Chiki";
                }
                
                scriptTag.className = `script-tag ${scriptClass}`;
                scriptTag.textContent = `${item.script} (${item.count})`;
                scriptList.appendChild(scriptTag);
            });
        }
        
        function showLoading() {
            piGrid.innerHTML = '<div class="loading">Generating visualization...</div>';
            scriptList.innerHTML = '<div class="loading">Loading scripts...</div>';
            statsText.textContent = 'Loading...';
        }
        
        async function downloadLatex() {
            if (!piData) {
                alert('Please generate a visualization first');
                return;
            }
            
            try {
                const title = "Ï€ in Indian Scripts"; 


                const latex = generateLatex(piData.grid.map(row => row.map(cell => cell.digit)), 
                                            piData.grid.map(row => row.map(cell => cell.script)), 
                                            piData.rows, 
                                            piData.cols, 
                                            "Ï€ in Indian Scripts", 
                                            piData.pi_mask);

                                
                downloadFile('pi_visualization.tex', latex);
                
            } catch (error) {
                console.error('Error generating LaTeX:', error);
                alert('Failed to generate LaTeX. Please try again.');
            }
        }
        
        function downloadFile(filename, content) {
            const blob = new Blob([content], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            window.URL.revokeObjectURL(url);
            document.body.removeChild(a);
        }
    </script>
</body>
</html>
